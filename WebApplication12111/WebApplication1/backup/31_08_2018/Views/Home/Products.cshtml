@using WebApplication1.Models
@model PagedList.IPagedList<WebApplication1.item>
@using PagedList.Mvc;

@{
    ViewBag.Title = "Product List";
    Layout = "~/Views/Shared/_Layout.cshtml";
    if (Session["SearchModel"] != null)
    {
        var search = (SearchModel)Session["SearchModel"];
    }

}

@using (Html.BeginForm("Products", "Home", FormMethod.Post, new { id = "productfom" }))
{
    <div class="row" style="; padding: 15px 0px;">

        <div class="col-lg-12" style="margin: 30px 0px;font-weight:bold;">
            <span>Home / </span><span style="color: #2ea3f2;">@ViewBag.CategoryName</span>
        </div>

        <div class="col-lg-12">
            <img src="~/Content/body/catalogue/category.png" style="width:100%" />
            <span style="font-size: 36px; color: white; position: absolute; top: 15px; left: 30px;font-weight:bold;">@ViewBag.CategoryName</span>
        </div>
        <div></div>
    </div>

    <input type="hidden" id="vddlPosition" value="@Session["ddlPosition"]" />
    <input type="hidden" id="vddlGetGroup" value="@Session["ddlGetGroup"]" />
    <input type="hidden" id="vddlGetCategory" value="@Session["ddlGetCategory"]" />
    <div style="padding: 10px; background-color: #ececec;">
        <div class="row" style="padding: 0px 15px;">
            <div class="col-lg-3  search">
                <select id="ddlPosition" name="ddlPosition" style="width:100%">
                    @if (Session["ddlPosition"] == null || Session["ddlPosition"].ToString() == "0")
                {
                    <option value="0" selected>ESC</option>
                    <option value="1">DESC</option>
                }
                else
                {
                    <option value="0">ESC</option>
                    <option value="1" selected>DESC</option>
                }
                </select>
            </div>
            <div class="col-lg-9 search">
                <input type="text" id="AllKey" name="AllKey" value="@Session["allkey"]" style=" width:100%" />
                <input type="submit" value="" style=" width: 25px; position: absolute; top: 2px; right: 3px; border: none;background-image:url(../Content/search-icon.png)" />

            </div>
        </div>
        <div class="row" style="margin-top: 2px; padding: 0px 15px;">
            <div class="col-lg-3 search">
                <select id="ddlGetGroup" name="ddlGetGroup" style="width:100%"></select>
            </div>
            <div class="col-lg-3 search">
                <select id="ddlGetCategory" name="ddlGetCategory" style="width:100%"></select>
            </div>
            <div class="col-lg-3 search">
                <select id="ddlGetItem" name="ddlGetItem" style="width:100%">
                    <option value="0">Select Item - not yet</option>
                </select>
            </div>

            <div class="col-lg-3 search">
                <select id="ddlLength" name="ddlLength" style="width:100%">
                    <option value="0">Select Length - not yet</option>
                </select>
            </div>
        </div>
        <div class="row" style="margin-top: 2px; padding: 0px 15px;">


            <div class="col-lg-3 search">
                <select id="ddlGetDINCode" name="ddlGetDINCode" style="width:100%">
                    <option value="0">Select Dincode - not yet</option>
                </select>
            </div>
            <div class="col-lg-3 search">
                <select id="ddlGetDimension" name="ddlGetDimension" style="width:100%">
                    <option value="0">Select Dimemsion - not yet</option>
                </select>
            </div>
            <div class="col-lg-3 search">
                <select id="ddlGetInterFace" name="ddlGetInterFace" style="width:100%">
                    <option value="0">Select Interface - not yet</option>
                </select>
            </div>
            <div class="col-lg-3 search">
                <select id="ddlGetMaterial" name="ddlGetMaterial" style="width:100%">
                    <option value="0">Select Material - not yet</option>
                </select>
            </div>
        </div>
    </div>
}
<div class="row">
    <div class="col-lg-12" style="color: #f4f4f4;; margin: 15px; margin: 10px; font-weight: bold;">
        <a href="@Url.Action("BulkProducts", "Home", new { categoryid = ViewBag.CategoryId })"><div class="col-lg-2 col-md-2 col-sm-2 col-xs-4">List view</div></a>
        <span style="margin:0px 5px;">|</span>
        <a href="@Url.Action("Products", "Home", new { categoryid = ViewBag.CategoryId })"><div class="col-lg-2 col-md-2 col-sm-2 col-xs-4">Grid view</div></a>

    </div>
</div>
    <div class="row" style="margin-top: 10px;padding: 0px 15px;">
        @foreach (var item in Model)
        {
            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-6" style="padding:1px;height:310px;">
                <a href="@Url.Action("Product","Home",new {Code = item.ARTCODE})">
                    <div class="row">
                        <div class="col-lg-12">
                            @if (System.IO.File.Exists(Server.MapPath("~/Content/ProductImage/" + @item.PICTURENAME)))
                            {

                                <img src="~/Content/ProductImage/@item.PICTURENAME" style="width:100%">

                            }
                            else
                            {

                                <img src="~/Content/ProductImage/notavailable.jpg" style="width:100%" />

                            }

                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 products-name">
                            <span style="font-weight: bold; color: #2ea3f2;"></span>@item.ARTNAME
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 products">
                            <span style="font-weight: bold; color: #002f6c">$@item.WEBPRICE</span>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 products">
                            <span style="font-weight: bold; color: #666666">Width: </span><span style="color: #666666">@item.WIDTH</span>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 products">
                            <span style="font-weight: bold; color: #666666">Height: </span><span style="color: #666666">@item.HEIGHT</span>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 products">
                            <span style="font-weight: bold; color: #666666">DIN: </span><span style="color: #666666">@item.ARTCODE</span>
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>
    <div>
        <div class="row">
            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5" style="color: #666666;">
                @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount Pages
                <select id="Size_Of_Page" name="Size_Of_Page" class="classic" style="background-color: #f4f4f4; color: #666666; width:160px;height:30px;">
                    <option value="20" @(ViewBag.ValueToSet == 20 ? "selected" : "")>20 items per page</option>
                    <option value="40" @(ViewBag.ValueToSet == 40 ? "selected" : "")>40 items per page</option>
                    <option value="100" @(ViewBag.ValueToSet == 100 ? "selected" : "")>100 items per page</option>
                    <option value="500" @(ViewBag.ValueToSet == 500 ? "selected" : "")>500 items per page</option>
                    <option value="1000" @(ViewBag.ValueToSet == 1000 ? "selected" : "")>1000 items per page</option>
                </select>


            </div>
            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" style="padding:0px;text-align:right;font-size:12px;">
                @Html.PagedListPager(Model, Page_No => Url.Action("Products",
     new { Page_No, Page_Size = ViewBag.ValueToSet, Sorting_Order = ViewBag.CurrentSortOrder, Filter_Value = ViewBag.FilterValue }))
            </div>
        </div>
    </div>
@{Html.RenderAction("FileList", "Home");}